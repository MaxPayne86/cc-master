#ifndef CC_HANDSHAKE_H
#define CC_HANDSHAKE_H


/*
****************************************************************************************************
*       INCLUDE FILES
****************************************************************************************************
*/

#include <stdint.h>
#include "utils.h"


/*
****************************************************************************************************
*       MACROS
****************************************************************************************************
*/

#define CC_MAX_FRAMES   8


/*
****************************************************************************************************
*       CONFIGURATION
****************************************************************************************************
*/


/*
****************************************************************************************************
*       DATA TYPES
****************************************************************************************************
*/

typedef struct cc_handshake_dev_t {
    string_t *uri;
    uint16_t random_id;
    version_t protocol, firmware;
} cc_handshake_dev_t;

typedef struct cc_handshake_mod_t {
    uint16_t random_id;
    int status, frame, channel;
} cc_handshake_mod_t;


/*
****************************************************************************************************
*       FUNCTION PROTOTYPES
****************************************************************************************************
*/

cc_handshake_mod_t* cc_handshake_check(cc_handshake_dev_t *received);


/*
****************************************************************************************************
*       CONFIGURATION ERRORS
****************************************************************************************************
*/


#endif
